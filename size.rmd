

```{r}

sessionInfo()
system.time(m <- rnorm(4*10^8))
m2 <- matrix(m, nrow = 2*10^4)
system.time(tmp <- m2 %*% m2)

as.numeric(object.size(m2)) * 10^-6

10^(6 + 2) * 8  * 10^-9

9 * 10^8 * 8  * 10^-9

sudo fallocate -l 32G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
#  echo "/swapfile swap swap defaults 0 0" >> /etc/fstab
free -h

tic()
m3 <- list()
for (i in 1:9) {
  system.time(m <- rnorm(10^8))
  m3[[i]] <- matrix(m, nrow = 10^4)
}
toc()

1
> as.numeric(object.size(fit)) * 10^-9
[1] 0.00259468



as.numeric(object.size(m3)) * 10^-9
system.time(m <- rnorm(2 * 10^9))
as.numeric(object.size(m)) * 10^-9
system.time(save.image("./data/large.rda"))

```
